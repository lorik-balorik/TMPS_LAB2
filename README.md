# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2
_–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∞ —Å—Ç—É–¥–µ–Ω—Ç–∫–∞ –≥—Ä—É–ø–ø—ã TI-164, –†—è–±–∏–Ω–∏–Ω–∞ –ê–ª–∏—Å–∞_

## –ó–∞–¥–∞–Ω–∏–µ üí†
–¶–µ–ª—å—é –¥–∞–Ω–Ω–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å 5 —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã üìì
1. _Adapter_
2. _Bridge_
3. _Facade_
4. _Flyweight_
5. _Proxy_

## _Adapter_
–ê–¥–∞–ø—Ç–µ—Ä ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç–∞–º —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ.

![alt text](https://refactoring.guru/images/patterns/content/adapter/adapter.png "Logo Title Text 1")

## _Bridge_
–ú–æ—Å—Ç ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –ø–æ–∑–≤–æ–ª—è—è –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

![alt text](https://refactoring.guru/images/patterns/content/bridge/bridge.png "Logo Title Text 1")

## _Facade_
–§–∞—Å–∞–¥ ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–ª–∞—Å—Å–æ–≤, –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É.

![alt text](https://refactoring.guru/images/patterns/content/facade/facade.png "Logo Title Text 1")

## _Flyweight_
–õ–µ–≥–∫–æ–≤–µ—Å ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–º–µ—Å—Ç–∏—Ç—å –±√≥–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ—Ç–≤–µ–¥—ë–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å. –õ–µ–≥–∫–æ–≤–µ—Å —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å, —Ä–∞–∑–¥–µ–ª—è—è –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –º–µ–∂–¥—É —Å–æ–±–æ–π, –≤–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–∞–∂–¥–æ–º –æ–±—ä–µ–∫—Ç–µ.

![alt text](https://refactoring.guru/images/patterns/content/flyweight/flyweight.png "Logo Title Text 1")

## _Proxy_
–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã-–∑–∞–º–µ–Ω–∏—Ç–µ–ª–∏. –≠—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –≤—ã–∑–æ–≤—ã –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É, –ø–æ–∑–≤–æ–ª—è—è —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –≤—ã–∑–æ–≤–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—É.

![alt text](https://refactoring.guru/images/patterns/content/proxy/proxy.png "Logo Title Text 1")

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è üìù

<img src="https://cdn-www.bluestacks.com/bs-images/pd_logo.png" width="400">
<img src="http://pixeldungeon.watabou.ru/screens/fireball.png" width="300">


–ò–¥–µ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å  —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∏–≥—Ä—ã üî•Pixel Dungeonüî•.

–î–ª—è —Ä–µ–∞–ª–∏–∑–∏—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø–∞—Ç—Ç–µ—Ä–Ω Flyweight.
–°–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–∞–∂–¥–æ–µ –¥–µ—Ä–µ–≤–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—å–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –≤—Å–µ —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞.

–ë—ã–ª —Å–æ–∑–¥–∞–Ω —Ç–∏–ø –¥–µ—Ä–µ–≤–∞, –∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞—ë—Å—è –æ–±—å–µ–∫—Ç –¥–µ—Ä–µ–≤–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –≥–¥–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∏–ø –¥–µ—Ä–µ–≤–∞.

```
TreeType oakType = new TreeType(String name, String color);
Tree oak = new Tree(int x, int y, int z, int angleX, int angleY, int size, TreeType typeOfTree);
```
–ü—Ä–∏–º–µ—Ä:

![alt text](Diagrams/1.png "Logo Title Text 1")

–°–∞–º—ã–π –ª—É—á—à–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ NPC - Bridge, —Ç.–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞, –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏, –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–∏–ø–æ–º –¥–∞–Ω–Ω—ã—Ö NPC.

![alt text](Diagrams/scheme.png "Logo Title Text 1")

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö NPC, –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ - –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–¥–æ—Ä–æ–≤—å—è, –µ–≥–æ –ø–æ–∑–∏—Ü–∏—è –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã x,y,z), –∞—Ç–∞–∫–∞, –∏ –º–µ—Ç–æ–¥ checkHP –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–¥–æ—Ä–æ–≤—å—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

–ë—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π: Archer –∏ Rogue, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–∞ NPC

![alt text](Diagrams/2.png "")

–£ –Ω–∏—Ö –µ—Å—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–¥–æ—Ä–æ–≤—å—è, –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞—Ç–∞–∫–∞.

```
npc.checkHPstatus();
npc.attack(tree);
npc.attack(npc);
```
–ú–µ—Ç–æ–¥ getData –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç  Npc –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç String List, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ printNPCInfo.
```
NPCInfo.printNPCInfo( Adapter.getData( npc ) );
```
![alt text](Diagrams/adapter.png "")

–î–ª—è —à–∞–±–ª–æ–Ω–∞ Facade –≤ –ø—Ä–æ–µ–∫—Ç–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤, —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Å–∏—Å—Ç–µ–º—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—å–µ–∫—Ç–∞ Save, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–æ—Å–ª–∞—Ç—å –æ–±—å–µ–∫—Ç—ã World, Npc, Tress, History. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏ –∏–º –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ –¥–≤–∞ –º–µ—Ç–æ–¥–∞ - createSaveFile, –∏ loadFromSaveFile.
```
Save save = Facade.SaveGame.createSaveFile();
LoadGame.loadFromSaveFile(save);
```
–¢–∞–∫–∂–µ, –≤ –ø—Ä–æ–µ–∫—Ç–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π, –ø—Ä–∏ –ø–æ–º–æ—â–∏ —à–∞–±–ª–æ–Ω–∞ Proxy. –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –¥–≤–∞ –∫–ª–∞—Å—Å–∞: Server, –∏ ProxyMod. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ proxyMod, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∏—Ç—å Proxy –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞, –ª–∏–±–æ –∂–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. 
```
ProxyMod.loadToServerSave(save);
```
